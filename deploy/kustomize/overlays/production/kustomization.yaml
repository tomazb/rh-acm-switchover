apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: acm-switchover-rbac-production

bases:
  - ../../base

# Production-specific labels
commonLabels:
  environment: production
  
# Production-specific annotations
commonAnnotations:
  environment: production
  deployment.date: "2024-12-07"

# Resource limits and security context for production
patches:
  - patch: |-
      apiVersion: v1
      kind: ServiceAccount
      metadata:
        name: acm-switchover-operator
        annotations:
          description: "Production service account for ACM switchover operations"
    target:
      kind: ServiceAccount
      name: acm-switchover-operator
  
  - patch: |-
      apiVersion: v1
      kind: ServiceAccount
      metadata:
        name: acm-switchover-validator
        annotations:
          description: "Production service account for ACM validation (read-only)"
    target:
      kind: ServiceAccount
      name: acm-switchover-validator
